@prefix : <https://vivoweb.org/ontology/vitro-dynamic-api/gesah/export_cultural_object_to_lido/> .
@prefix dynapi: <https://vivoweb.org/ontology/vitro-dynamic-api#> .

:parameter_xml_transformation_rules dynapi:defaultValue

"""<?xml version="1.0" encoding="UTF-8"?>
    <xsl:stylesheet version="2.0"
        xmlns="http://www.lido-schema.org"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
        xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
        xmlns:vitro="http://vitro.mannlib.cornell.edu/ns/vitro/0.7#"
        xmlns:owl="http://www.w3.org/2002/07/owl#"
        xmlns:gesah="http://ontology.tib.eu/gesah/"
        xmlns:gml="http://www.opengis.net/gml"
        xmlns:doc="http://www.mda.org.uk/spectrumXML/Documentation"
        xmlns:sch="http://purl.oclc.org/dsdl/schematron"
        xmlns:skos="http://www.w3.org/2004/02/skos/core#" 
        xmlns:tei="http://www.tei-c.org/ns/1.0"
        xmlns:lido="http://www.lido-schema.org" 
        xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns:smil20lang="http://www.w3.org/2001/SMIL20/Language"
    >
        <xsl:output method="xml" indent="yes"/>

        <xsl:template match="/">
            <lido:lido xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.lido-schema.org"
                xmlns:owl="http://www.w3.org/2002/07/owl#"
                xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
                xmlns:vitro="http://vitro.mannlib.cornell.edu/ns/vitro/0.7#"
                xmlns:gml="http://www.opengis.net/gml"
                xmlns:doc="http://www.mda.org.uk/spectrumXML/Documentation"
                xmlns:sch="http://purl.oclc.org/dsdl/schematron"
                xmlns:skos="http://www.w3.org/2004/02/skos/core#" 
                xmlns:tei="http://www.tei-c.org/ns/1.0"
                xmlns:lido="http://www.lido-schema.org" 
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns:smil20lang="http://www.w3.org/2001/SMIL20/Language"
            >
                <lido:lidoRecID
                    lido:type="http://terminology.lido-schema.org/lido00099"
                    lido:source="ld.zdb-services.de/resource/organisations/DE-89"
                >DE-89/lido/<xsl:value-of select="string(//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/@rdf:about)" /></lido:lidoRecID>

                <lido:objectPublishedID
                    lido:pref="http://terminology.lido-schema.org/lido00169"
                    lido:type="http://terminology.lido-schema.org/lido00099"
                    lido:source="ld.zdb-services.de/resource/organisations/DE-89"
                >DE-89/object/<xsl:value-of select="string(//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/@rdf:about)" /></lido:objectPublishedID>

                <lido:category>
                    <skos:Concept rdf:about="http://terminology.lido-schema.org/lido00096">
                        <skos:prefLabel xml:lang="en">Human-made object</skos:prefLabel>
                    </skos:Concept>
                </lido:category>

                <lido:descriptiveMetadata xml:lang="de">
                    <lido:objectClassificationWrap>
                        <lido:objectWorkTypeWrap>
                            <lido:objectWorkType lido:type="http://terminology.lido-schema.org/lido00789">
                                <xsl:choose>
                                    <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Print'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Print']">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300041273">
                                            <skos:prefLabel xml:lang="en">print (visual works)</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Druckgraphik</skos:prefLabel>
                                        </skos:Concept>
                                    </xsl:when>
                                    <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Drawing'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Drawing']">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300033973">
                                            <skos:prefLabel xml:lang="en">drawings (visual works)</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Zeichnung</skos:prefLabel>
                                        </skos:Concept>
                                    </xsl:when>
                                    <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Manuscript'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Manuscript']">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300028569">
                                            <skos:prefLabel xml:lang="en">manuscripts (documents)</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Handschrift</skos:prefLabel>
                                        </skos:Concept>
                                    </xsl:when>
                                    <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Seal'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Seal']">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300028877">
                                            <skos:prefLabel xml:lang="en">seals (artifacts)</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Siegel</skos:prefLabel>
                                        </skos:Concept>
                                    </xsl:when>
                                    <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Printed_Materials'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Printed_Materials']">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300404588">
                                            <skos:prefLabel xml:lang="en">printed materials (object genre)</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Druckschrift</skos:prefLabel>
                                        </skos:Concept>
                                    </xsl:when>
                                    <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Painting'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Painting']">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300264522">
                                            <skos:prefLabel xml:lang="en">illuminations (paintings)</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Buchmalerei</skos:prefLabel>
                                        </skos:Concept>
                                    </xsl:when>
                                    <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Musical_Notation'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Musical_Notation']">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300417622">
                                            <skos:prefLabel xml:lang="en">musical notation</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Notenschrift</skos:prefLabel>
                                        </skos:Concept>
                                    </xsl:when>
                                    <xsl:otherwise>
                                    </xsl:otherwise>
                                </xsl:choose>
                            </lido:objectWorkType>
                        </lido:objectWorkTypeWrap>

                        <lido:classificationWrap>
                            <lido:classification lido:type="http://terminology.lido-schema.org/lido00853">
                                <skos:Concept>
                                    <xsl:attribute name="rdf:about">
                                        <xsl:choose>
                                            <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Print'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Print']">
                                                <xsl:text>http://vocab.getty.edu/aat/300041273</xsl:text>
                                            </xsl:when>
                                            <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Drawing'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Drawing']">
                                                <xsl:text>http://vocab.getty.edu/aat/300033973</xsl:text>
                                            </xsl:when>
                                            <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Manuscript'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Manuscript']">
                                                <xsl:text>http://vocab.getty.edu/aat/300028569</xsl:text>
                                            </xsl:when>
                                            <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Seal'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Seal']">
                                                 <xsl:text>http://vocab.getty.edu/aat/300028877</xsl:text>
                                            </xsl:when>
                                            <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Printed_Materials'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Printed_Materials']">
                                                <xsl:text>http://vocab.getty.edu/aat/300404588</xsl:text>
                                            </xsl:when>
                                            <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Painting'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Painting']">
                                               <xsl:text>http://vocab.getty.edu/aat/300264522</xsl:text>
                                            </xsl:when>
                                            <xsl:when test="//rdf:type[@rdf:resource = 'http://ontology.tib.eu/gesah/Musical_Notation'] or //rdf:Description[@rdf:about = 'http://ontology.tib.eu/gesah/Musical_Notation']">
                                                <xsl:text>http://vocab.getty.edu/aat/300417622</xsl:text>
                                            </xsl:when>
                                            <xsl:otherwise>
                                            </xsl:otherwise>
                                        </xsl:choose>
                                    </xsl:attribute>
                                    <xsl:for-each select="//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/vitro:mostSpecificType/rdf:Description/rdfs:label">
                                        <skos:prefLabel >
                                            <xsl:if test="@xml:lang">
                                                <xsl:attribute name="xml:lang">
                                                    <xsl:value-of select="@xml:lang" />
                                                </xsl:attribute>
                                            </xsl:if>
                                            <xsl:value-of select="text()" />
                                        </skos:prefLabel>
                                    </xsl:for-each>
                                </skos:Concept>
                                <xsl:for-each select="//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/vitro:mostSpecificType/rdf:Description/rdfs:label">
                                    <lido:term lido:addedSearchTerm="yes">
                                        <xsl:if test="@xml:lang">
                                            <xsl:attribute name="xml:lang">
                                                <xsl:value-of select="@xml:lang" />
                                            </xsl:attribute>
                                        </xsl:if>
                                        <xsl:value-of select="text()" />
                                    </lido:term>
                                </xsl:for-each>
                            </lido:classification>
                        </lido:classificationWrap>
                    </lido:objectClassificationWrap>

                    <lido:objectIdentificationWrap>
                        <lido:titleWrap>
                            <lido:titleSet lido:pref="http://vocab.getty.edu/page/aat/300417200">
                                <xsl:for-each select="//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/rdfs:label">
                                    <lido:appellationValue lido:pref="http://terminology.lido-schema.org/lido00526">
                                        <xsl:if test="@xml:lang">
                                            <xsl:attribute name="xml:lang">
                                                   <xsl:value-of select="@xml:lang" />
                                            </xsl:attribute>
                                        </xsl:if>
                                        <xsl:value-of select="text()"/>
                                    </lido:appellationValue>
                                </xsl:for-each>
                            </lido:titleSet>
                            
                            <xsl:for-each select="//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/gesah:has_Title/rdf:Description">
                                <lido:titleSet>
                                    <xsl:if test="gesah:has_title_type/rdf:Description/gesah:AAT_ID/text()">
                                        <xsl:attribute name="lido:type">
											<xsl:text>http://vocab.getty.edu/aat/</xsl:text>
                                           	<xsl:value-of select="gesah:has_title_type/rdf:Description/gesah:AAT_ID/text()" />
                                        </xsl:attribute>
                                    </xsl:if>
		                            <lido:appellationValue lido:pref="http://terminology.lido-schema.org/lido00170">
		                                <xsl:value-of select="gesah:title/text()" />
		                            </lido:appellationValue>
                                </lido:titleSet>
                            </xsl:for-each>

                        </lido:titleWrap>

						<lido:repositoryWrap>
							<!-- lido type is "current repository" which is equivalent to gesah:has_current_holding_institution, in our case this is always static Technische Informationsbibliothek (TIB) + "Hannover" as it is on the vitro surface, too --> 
							<lido:repositorySet lido:type="http://terminology.lido-schema.org/lido01017">
								<lido:displayRepository xml:lang="de">Technische Informationsbibliothek (TIB), Hannover</lido:displayRepository>
								<lido:repositoryName>
								   <lido:legalBodyID lido:type="http://terminology.lido-schema.org/lido00099">ld.zdb-services.de/resource/organisations/DE-89</lido:legalBodyID>
									<lido:legalBodyName>
										<lido:appellationValue>Technische Informationsbibliothek (TIB) / Leibniz-Informationszentrum Technik und Naturwissenschaften und Universitätsbibliothek</lido:appellationValue>
									</lido:legalBodyName>
									<lido:legalBodyWeblink lido:pref="http://terminology.lido-schema.org/lido00169">https://www.tib.eu/de/</lido:legalBodyWeblink>
								</lido:repositoryName>
								<!-- Inventarnummer (lido00113) is dynamic, it is equavalent to gesah:current_inventory_number-->
								<lido:workID lido:type="http://terminology.lido-schema.org/lido00113"><xsl:value-of select="//gesah:current_inventory_number[1]/text()[1]"/></lido:workID>
								<!-- this is static , always Hannover-->
								<lido:repositoryLocation>
									<lido:placeID lido:type="http://terminology.lido-schema.org/lido00099">https://www.wikidata.org/entity/Q1715</lido:placeID>
									<lido:namePlaceSet>
										<lido:appellationValue xml:lang="de">Hannover</lido:appellationValue>
									</lido:namePlaceSet>
									<!-- Bundesland -->
									<lido:partOfPlace>
										<lido:placeID lido:type="http://terminology.lido-schema.org/lido00099">https://www.wikidata.org/entity/Q1197</lido:placeID>
										<lido:namePlaceSet>
											<lido:appellationValue xml:lang="en">Lower Saxony</lido:appellationValue>
											<lido:appellationValue xml:lang="de">Niedersachsen</lido:appellationValue>
										</lido:namePlaceSet>
										<!-- Land -->
										<lido:partOfPlace>
											<lido:placeID lido:type="http://terminology.lido-schema.org/lido00099">https://www.wikidata.org/entity/Q183</lido:placeID>
											<lido:namePlaceSet>
												<lido:appellationValue xml:lang="en">Germany</lido:appellationValue>
												<lido:appellationValue xml:lang="de">Deutschland</lido:appellationValue>
											</lido:namePlaceSet>
										</lido:partOfPlace>
									</lido:partOfPlace>
								</lido:repositoryLocation>
								
								<!-- here I don't know whether we should put the URI of the cultural object and what date? and how the date could be generated? Text below is of the example xml sheet, for lido element description cf. https://lido-schema.org/schema/v1.1/lido-v1.1.html#sourceRepositorySet-->
								<sourceRepositorySet>https://www.sammlung.pinakothek.de/de/artwork/o5xrMEr47X (aktualisiert am 11.01.2022) [2022-04-29]</sourceRepositorySet>
							</lido:repositorySet>
						</lido:repositoryWrap>
                        <lido:objectDescriptionWrap>
                            <lido:objectDescriptionSet>
                                <lido:descriptiveNoteValue xml:lang="en">Rubens returned to Antwerp in 1608 after an eight-year stay in Italy. The following year he married Isabella Brant. This portrait was probably painted to mark this occasion. Both its representative format and the exquisite robes chosen served as a means of nobilitation. Through its allusions to Antiquity and the humanist tradition it also points to Rubens’s self-image as an artist. Honeysuckle is also commonly known as “the longer the better” and symbolises love’s durability.</lido:descriptiveNoteValue>
                                <sourceDescriptiveNote>https://www.sammlung.pinakothek.de/en/artwork/o5xrMEr47X (Last updated on 20.05.2022) [2022-06-01]</sourceDescriptiveNote>
                            </lido:objectDescriptionSet>
                        </lido:objectDescriptionWrap>

						<lido:objectMeasurementsWrap>
							<!-- This is dynamic, in Vitro it is object property gesah:has_measurements of CO with gesah:measurement_height, gesah:measurement_width, gesah:measurement_diameter and gesah:has_measurement_specification, there are four types of measurment specification: support, plate, sheet and image in German and English. In the aviarium example plate and image is not existant-->
							<lido:objectMeasurementsSet lido:type="http://terminology.lido-schema.org/lido00927">
								<xsl:for-each select="//gesah:has_measurements/rdf:Description">
                                    <xsl:variable name="measurement_height" select="./gesah:measurement_height/text()" />
                                    <xsl:variable name="measurement_width" select="./gesah:measurement_width/text()" />
                                    <xsl:variable name="measurement_diameter" select="./gesah:measurement_diameter/text()" />
                                    <xsl:variable name="measurement_depth" select="./gesah:measurement_depth/text()" />

									<xsl:for-each select="gesah:has_measurement_specification/rdf:Description/rdfs:label">
		                            	<xsl:value-of select="./gesah:has_measurement_specification/rdf:Description/rdfs:label" />
										<lido:displayObjectMeasurements>
											<xsl:attribute name="xml:lang">
				                                <xsl:value-of select="@xml:lang" />
				                            </xsl:attribute>
			                                <xsl:value-of select="text()" />
											<xsl:text>: </xsl:text>
		                                    <xsl:choose>
		                                        <xsl:when test="$measurement_diameter">
				                             		<xsl:value-of select="$measurement_diameter" />
													<xsl:text> x </xsl:text>
													<xsl:value-of select="$measurement_diameter" />
		                                        </xsl:when>
		                                        <xsl:otherwise>
				                             		<xsl:value-of select="$measurement_height" />
													<xsl:text> x </xsl:text>
													<xsl:value-of select="$measurement_width" />
		                                        </xsl:otherwise>
		                                    </xsl:choose>
                                            <xsl:if test="$measurement_depth">
												<xsl:text> x </xsl:text>
												<xsl:value-of select="$measurement_depth" />
                                            </xsl:if>
										</lido:displayObjectMeasurements>
			                        </xsl:for-each>
		                        </xsl:for-each>
							</lido:objectMeasurementsSet>	
						</lido:objectMeasurementsWrap> 

                        <!-- Element <objectMaterialsTechWrap> is repeatable and at least element regarding material or technique is mandatory for this profile. -->
                        <lido:objectMaterialsTechWrap>
                            <lido:objectMaterialsTechSet>
                                <lido:displayMaterialsTech xml:lang="en">oil on canvas, mounted on oak wood panel</lido:displayMaterialsTech>
                                <lido:materialsTech>
                                    <lido:termMaterialsTech
                                        lido:type="http://terminology.lido-schema.org/lido00513">
                                        <skos:Concept rdf:about="http://vocab.getty.edu/aat/300015050">
                                            <skos:prefLabel xml:lang="en">oil paint (paint)</skos:prefLabel>
                                            <skos:prefLabel xml:lang="de">Ölfarbe</skos:prefLabel>
                                            <skos:mappingRelation>https://www.wikidata.org/entity/Q296955</skos:mappingRelation>
                                            <skos:mappingRelation>https://d-nb.info/gnd/4528761-2</skos:mappingRelation>
                                        </skos:Concept>
                                    </lido:termMaterialsTech>
                                    
                                    <lido:sourceMaterialsTech>https://www.sammlung.pinakothek.de/en/artwork/o5xrMEr47X (Last updated on 20.05.2022) [2022-06-01]</lido:sourceMaterialsTech>
                                    <lido:sourceMaterialsTech>Wikidata contributors, "Q571416," Wikidata, https://www.wikidata.org/w/index.php?title=Q571416&amp;oldid=1631598551 (accessed May 4, 2022).</lido:sourceMaterialsTech>
                                </lido:materialsTech>
                            </lido:objectMaterialsTechSet>
                        </lido:objectMaterialsTechWrap>
                    </lido:objectIdentificationWrap>

                </lido:descriptiveMetadata>

                <lido:administrativeMetadata xml:lang="en">

                    <lido:rightsWorkWrap>
                        <lido:rightsWorkSet> <!-- This is for the real physical described object: for all our objects this is true-->
                             <lido:rightsType lido:type="http://terminology.lido-schema.org/lido00921">
                                <skos:Concept rdf:about="https://creativecommons.org/publicdomain/mark/1.0/">
                                    <skos:prefLabel xml:lang="en">Public Domain Mark 1.0</skos:prefLabel>
                                    <skos:prefLabel xml:lang="de">Kein Urheberrechtsschutz</skos:prefLabel>
                                </skos:Concept>
                            </lido:rightsType>
                        </lido:rightsWorkSet>
                    </lido:rightsWorkWrap>

                    <lido:recordWrap>
                    <!-- This is for the Cultural Object record: for all our Cultural Objects records this is true, the URI/record ID is dynamic the rest should be always the same-->
                        <lido:recordID lido:type="http://terminology.lido-schema.org/lido00099">
                            <xsl:value-of select="string(//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/@rdf:about)" />
                        </lido:recordID>
                        <lido:recordType>
                            <skos:Concept rdf:about="http://terminology.lido-schema.org/lido00141">
                                <skos:prefLabel xml:lang="en">Item-level record</skos:prefLabel>
                                <skos:prefLabel xml:lang="de">Einzelobjekt (Katalogisierungsebene)</skos:prefLabel>
                            </skos:Concept>
                        </lido:recordType>

                        <lido:recordSource>
                            <lido:legalBodyID lido:type="http://terminology.lido-schema.org/lido00099">ld.zdb-services.de/resource/organisations/DE-89</lido:legalBodyID>
                            <lido:legalBodyName>
                                <lido:appellationValue>Technische Informationsbibliothek (TIB)</lido:appellationValue>
                            </lido:legalBodyName>
                            <lido:legalBodyWeblink>https://www.tib.eu/de/</lido:legalBodyWeblink>
                        </lido:recordSource>

                        <lido:recordRights>
                            <lido:rightsType lido:type="http://terminology.lido-schema.org/lido00921">
                                <skos:Concept rdf:about="http://creativecommons.org/publicdomain/zero/1.0/">
                                    <skos:prefLabel xml:lang="en">CC0 1.0 Universal (CC0 1.0)</skos:prefLabel>
                                    <skos:altLabel xml:lang="en">No Copyright</skos:altLabel>
                                    <skos:altLabel xml:lang="en">Public Domain Dedication</skos:altLabel>
                                    <skos:altLabel xml:lang="de">Kein Urheberrechtsschutz</skos:altLabel>
                                </skos:Concept>
                            </lido:rightsType>
                        </lido:recordRights>

                        <lido:recordInfoSet>
                            <lido:recordInfoLink>
                                <xsl:value-of select="string(//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/@rdf:about)" />
                            </lido:recordInfoLink>
                            <lido:recordMetadataDate lido:type="http://terminology.lido-schema.org/lido00472">
                                <xsl:value-of select="//*[rdf:type/@rdf:resource = 'http://ontology.tib.eu/gesah/Cultural_Object']/xsd:date/text()" />
                            </lido:recordMetadataDate>
                        </lido:recordInfoSet>
                    </lido:recordWrap>
                    
                    <lido:resourceWrap>
                        <!-- This is on images. It sais normally one high resolution image and one small preview is delivered. The internal IDs of these files I don't know, I use here the URI of the image in Vitro.-->
                        <xsl:for-each select="//gesah:has_digital_representation/*">
                            <lido:resourceSet>
                              <lido:resourceID lido:type="http://terminology.lido-schema.org/lido00099"><xsl:value-of select="@rdf:about" /></lido:resourceID>
                              <!-- Preview image-->
                              <lido:resourceRepresentation lido:type="http://terminology.lido-schema.org/lido00451">
                                <lido:linkResource lido:formatResource="image/jpeg">https://sah.tib.eu/iiif/2/<xsl:value-of select="gesah:barcode/text()" />%5Econtent%5Estreams%5E<xsl:value-of select="gesah:image_file_number/text()" />/full/300,/0/default.jpg</lido:linkResource>
                              </lido:resourceRepresentation>
                              <!-- Full size image-->
                              <lido:resourceRepresentation lido:type="http://terminology.lido-schema.org/lido00464">
                                <lido:linkResource lido:formatResource="image/tiff">https://sah.tib.eu/iiif/2/<xsl:value-of select="gesah:barcode/text()" />%5Econtent%5Estreams%5E<xsl:value-of select="gesah:image_file_number/text()" />/full/full/0/default.tif</lido:linkResource>
                              </lido:resourceRepresentation>
                              <lido:resourceType>
                                <skos:Concept rdf:about="http://vocab.getty.edu/aat/300215302">
                                  <skos:prefLabel xml:lang="en">digital images</skos:prefLabel>
                                  <skos:altLabel xml:lang="en">digital image</skos:altLabel>
                                  <skos:mappingRelation>https://www.wikidata.org/entity/Q1250322</skos:mappingRelation>
                                </skos:Concept>
                                <lido:term lido:pref="http://terminology.lido-schema.org/lido00526" xml:lang="de">Digitales Bild</lido:term>
                                <lido:term xml:lang="de">Digitalbild</lido:term>
                              </lido:resourceType>
                              <lido:resourceSource>
                                <lido:legalBodyID lido:type="http://terminology.lido-schema.org/lido00099">ld.zdb-services.de/resource/organisations/DE-89</lido:legalBodyID>
                                <lido:legalBodyName>
                                  <lido:appellationValue>Technische Informationsbibliothek (TIB)</lido:appellationValue>
                                </lido:legalBodyName>
                              </lido:resourceSource>
                              <lido:rightsResource>
                                <lido:rightsType lido:type="http://terminology.lido-schema.org/lido00921">
                                  <skos:Concept rdf:about="https://creativecommons.org/publicdomain/mark/1.0/deed.de">
                                    <skos:prefLabel xml:lang="en">Public Domain Mark 1.0</skos:prefLabel>
                                    <skos:altLabel xml:lang="en">No Copyright</skos:altLabel>
                                    <skos:altLabel xml:lang="en">Public Domain Mark 1.0</skos:altLabel>
                                    <skos:altLabel xml:lang="de">Kein Urheberrechtsschutz</skos:altLabel>
                                  </skos:Concept>
                                </lido:rightsType>
                                <lido:rightsHolder>
                                  <lido:legalBodyID lido:type="http://terminology.lido-schema.org/lido00099">ld.zdb-services.de/resource/organisations/DE-MUS-89</lido:legalBodyID>
                                  <lido:legalBodyName>
                                    <lido:appellationValue>Technische Informationsbibliothek (TIB)</lido:appellationValue>
                                  </lido:legalBodyName>
                                  <lido:legalBodyWeblink lido:pref="http://terminology.lido-schema.org/lido00169">https://www.tib.eu/de/</lido:legalBodyWeblink>
                                </lido:rightsHolder>
                                <lido:creditLine>Technische Informationsbibliothek (TIB), Public Domain Mark 1.0 </lido:creditLine>
                              </lido:rightsResource>
                            </lido:resourceSet>
                        </xsl:for-each>
                    </lido:resourceWrap>
                </lido:administrativeMetadata>

            </lido:lido>
        </xsl:template>
    </xsl:stylesheet>
""" .

